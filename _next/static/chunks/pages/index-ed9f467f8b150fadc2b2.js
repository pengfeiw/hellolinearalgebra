(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8148:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(2809),i=n(159),o=(n(7294),n(980)),a=n(8420),s=n(6893),c=n(5893);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=function(e){var t=(0,i.Z)({},e),n=(0,o.useColorMode)(),u=n.colorMode,h=n.toggleColorMode;return(0,c.jsx)(a.h,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"aria-label":"dark"===u?"Dark Mode":"Light Mode",icon:"dark"===u?(0,c.jsx)(s.wOW,{}):(0,c.jsx)(s.kXG,{}),isRound:!0,onMouseDown:h},t))}},9005:function(e,t,n){"use strict";n.d(t,{d:function(){return f}});var r=n(2809),i=n(159),o=(n(7294),n(980)),a=n(8420),s=n(6653),c=n(1180),l=n(5893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=(0,i.Z)({},e),n=(0,o.useColorMode)().colorMode;return(0,l.jsx)(c.X,{href:"https://github.com/pengfeiw/hellolinearalgebra",children:(0,l.jsx)(a.h,h({"aria-label":"dark"===n?"Dark Mode":"Light Mode",icon:(0,l.jsx)(s.Jmn,{}),isRound:!0},t))})}},8338:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(7294),i=n(8017),o=n(4096),a=n(2026),s=n(4115),c=n(2809),l=n(479),u=n(2451),h=n(5893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=(0,u.o3)();return(0,h.jsxs)(l.n,p(p({viewBox:"0 0 300 300",height:"40px",width:"40px",fill:t},e),{},{children:[(0,h.jsx)("title",{children:"\u738b\u9e4f\u98de"}),(0,h.jsx)("path",{d:"M94,170.39c1.26-.78,2.25-1,2.39-1.54,6.21-21.22,23.14-32.62,39.93-44.44C158,109.17,179.2,93.3,201.73,78.29c-27.95,26.83-12,60.7-17.88,92.44,5.76-2.13,6.17-5.69,7.38-8.43,13.24-30.06,26.53-60.11,39.43-90.33,2.49-5.85,5.6-8.4,12.12-8a265.26,265.26,0,0,0,28.48,0c7.75-.38,9.6,1.3,5.91,8.91-11.65,24-24.27,47.64-33.58,72.52-12.27,32.82-32.15,57.87-62.34,75.63-13.75,8.09-26,18.72-39.78,27.81,4.41-5.6,4.47-11.87,4.43-18.31-.14-25.89-.06-51.78-.06-78.36-4.83,1.44-5.2,5.52-6.63,8.41-13.27,26.83-26.61,53.64-39.29,80.75-3.16,6.75-6.94,9.15-14.18,8.7a277.77,277.77,0,0,0-29.57,0c-6.6.29-9.18-1.81-8.83-8.66.81-15.67,1-31.38,1.54-47.07.09-2.91.18-5.7,3-7.75,13.23-9.59,26.35-19.32,39.63-29.08C94.81,161.92,91.78,166.25,94,170.39Z"}),(0,h.jsx)("path",{d:"M21.41,196.16c.8-1.13,1.38-2.52,2.42-3.36C47,174.1,53,149.22,51.2,120.77c-1-15.6.64-31.35.52-47C51.66,66.13,54.44,63.51,62,64c9.82.58,19.7.38,29.55.07,5.65-.18,7.76,1.63,7.35,7.52-1.59,22.56-2.9,45.14-4.07,67.73-.21,4.11-1.87,6.66-5,9q-33.56,24.5-67,49.19Z"}),(0,h.jsx)("path",{d:"M117.59,125.08c8.73-18.48,17.42-37,26.24-55.41,1-2.17,1.61-5.28,4.86-5.32,11.32-.13,22.65-.14,34-.1,2.66,0,3.67,1.73,3.86,4.27.38,5-.26,9.12-4.91,12.4-12.83,9.06-25.36,18.54-38,27.83q-12.28,9-24.63,18Z"}),(0,h.jsx)("path",{d:"M161.34,247.43l60-44c-10.2,13.1-19.06,26.56-25,41.87-1.15,3-3.17,4.63-6.59,4.59-9.32-.1-18.63,0-27.95,0C161.65,249,161.49,248.24,161.34,247.43Z"})]}))},m=n(8148),v=n(9005),g=n(7023),y=n(1180),b=function(){return(0,h.jsxs)(o.k,{flexDirection:"row",justifyContent:"space-between",mb:"40px",wrap:"wrap",gridRowGap:"15px",gridColumnGap:"15px",children:[(0,h.jsx)(y.X,{href:"https://pengfeiw.github.io/hellolinearalgebra/",target:"_blank",children:(0,h.jsxs)(a.Ug,{alignItems:"end",children:[(0,h.jsx)(d,{}),(0,h.jsx)(s.x,{fontSize:"17px",fontWeight:"bold",children:"\u4f60\u597d\uff0c\u7ebf\u6027\u4ee3\u6570"})]})}),(0,h.jsxs)(a.Ug,{children:[(0,h.jsx)(v.d,{}),(0,h.jsx)(g.IJ,{"aria-label":"Accent Color Picker",zIndex:1}),(0,h.jsx)(m.d,{})]})]})},w=n(6105),x=n(1163),k=n(980),j=n(8135),O=n(2089),P=n(1475),Z=function(e){var t=e.catalogs,n=(0,x.useRouter)(),o=n.asPath.slice(n.asPath.lastIndexOf("/")+1),s=(0,u.o3)(),c=(0,k.useColorMode)().colorMode,l=(0,r.useState)(!1),f=l[0],p=l[1],d=t.findIndex((function(e){return e.path===o}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(a.Ug,{position:"sticky",top:"0",p:"10px 0",bg:"light"===c?"white":"var(--chakra-colors-gray-800)",zIndex:"1",children:[(0,h.jsx)(P.U,{onClick:function(){p(!0)},h:"25",w:"25",cursor:"pointer",_hover:{color:(0,u.o3)()}}),(0,h.jsxs)(a.Ug,{justifyContent:"space-between",flexGrow:2,children:[d>0?(0,h.jsx)(y.Q,{to:"".concat("https://pengfeiw.github.io/hellolinearalgebra/","chapters/").concat(t[d-1].path),children:"\u4e0a\u4e00\u8282"}):(0,h.jsx)(h.Fragment,{}),d<t.length-1?(0,h.jsx)(y.Q,{to:"".concat("https://pengfeiw.github.io/hellolinearalgebra/","chapters/").concat(t[d+1].path),children:"\u4e0b\u4e00\u8282"}):(0,h.jsx)(h.Fragment,{})]})]}),(0,h.jsxs)(j.dy,{isOpen:f,placement:"right",onClose:function(){return p(!1)},children:[(0,h.jsx)(O.ZA,{}),(0,h.jsxs)(j.sc,{children:[(0,h.jsx)(O.ol,{}),(0,h.jsx)(O.xB,{children:"\u76ee\u5f55"}),(0,h.jsx)(O.fe,{children:t.map((function(e){return(0,h.jsx)(i.xu,{mb:"10px",children:(0,h.jsx)(y.Q,{to:"".concat("https://pengfeiw.github.io/hellolinearalgebra/","chapters/").concat(e.path),color:o===e.path?s:"",children:e.title})},e.path)}))}),(0,h.jsx)(O.mz,{})]})]})]})},E=n(2962),T=function(e){var t=e.children,n=e.frontMatter;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(E.PB,{title:n.title,description:n.description,canonical:"htts://pengfeiw.github.io/hellolinearalgebra/chapters/".concat(n.path),openGraph:{type:"article",url:"htts://pengfeiw.github.io/hellolinearalgebra/chapters/".concat(n.path),title:n.title,description:n.description,article:{publishedTime:n.publishTime,authors:["https://www.pengfeixc.com/about"],tags:n.keywords}},additionalMetaTags:[{property:"author",content:"\u738b\u9e4f\u98de"},{property:"keywords",content:n.keywords.join(",")}]}),(0,h.jsx)(b,{}),(0,h.jsx)(Z,{catalogs:n.allPosts.filter((function(e){return!e.hide}))}),(0,h.jsx)(w.H1,{children:n.title}),t]})},A=function(){return(0,h.jsxs)(i.xu,{mt:"60px",children:[(0,h.jsx)(s.x,{textAlign:"center",children:(0,h.jsx)(y.X,{href:"https://pengfeiw.github.io/hellolinearalgebra/sitemap.xml",children:"\ud83d\udcd6sitemap"})}),(0,h.jsxs)(s.x,{textAlign:"center",mt:"30px",children:["\u672c\u7ad9\u91c7\u7528",(0,h.jsx)(y.X,{href:"https://nextjs.org/",children:"NextJs"}),"\u548c",(0,h.jsx)(y.X,{href:"https://chakra-ui.com/",children:"ChakraUI"}),"\u642d\u5efa\uff0c \u611f\u8c22",(0,h.jsx)(y.X,{href:"https://github.com/",children:"Github"}),"\u63d0\u4f9b\u7684\u514d\u8d39\u670d\u52a1\u3002"]})]})},M=function(e){var t=e.children,n=e.frontMatter,r=(0,u.o3)(),o=n.allPosts.filter((function(e){return!e.hide}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(E.PB,{title:n.title,titleTemplate:"%s"}),(0,h.jsxs)(i.xu,{children:[(0,h.jsx)(b,{}),(0,h.jsx)(w.H1,{children:n.title}),(0,h.jsx)(s.x,{mb:"15px",children:"\u8fd9\u662f\u4e00\u672c\u5173\u4e8e\u5165\u95e8\u8ba1\u7b97\u673a\u56fe\u5f62\u5b66\u7684\u7ebf\u6027\u4ee3\u6570\u57fa\u7840\u6559\u7a0b\u3002\u4e3b\u8981\u4ecb\u7ecd\u5411\u91cf\u3001\u884c\u5217\u5f0f\u548c\u77e9\u9635\u7684\u51e0\u4f55\u610f\u4e49\uff0c\u5982\u679c\u4f60\u5bf9\u56fe\u5f62\u5b66\u611f\u5174\u8da3\uff0c\u5374\u7f3a\u4e4f\u4e00\u4e9b\u6570\u5b66\u77e5\u8bc6\uff0c \u53c8\u6ca1\u6709\u65f6\u95f4\u53bb\u5b66\u4e60\u5176\u4ed6\u590d\u6742\u7684\u7ebf\u6027\u4ee3\u6570\u4e2d\u7e41\u6742\u7684\u8ba1\u7b97\uff0c\u90a3\u4e48\u4f60\u6765\u5bf9\u5730\u65b9\u4e86\uff0c\u8fd9\u672c\u4e66\u5e94\u8be5\u975e\u5e38\u9002\u5408\u4f60\uff0c\u672c\u6559\u7a0b\u5305\u542b\u4ee5\u4e0b\u7ae0\u8282\u5185\u5bb9\u3002"}),o.map((function(e){return(0,h.jsx)(i.xu,{mt:"10px",children:(0,h.jsx)(y.Q,{to:"".concat("https://pengfeiw.github.io/hellolinearalgebra/","chapters/").concat(e.path),color:r,children:e.title})},e.path)})),t,(0,h.jsx)(A,{})]})]})},C=n(1869),_=n(6780),L=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];(0,r.useEffect)((function(){window.addEventListener("scroll",i)}),[]);var i=function(){var e=document.documentElement.scrollTop;n(e>300)};return(0,h.jsx)(C.z,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},display:t?"inline":"none",position:"fixed",right:"3em",bottom:"4em",children:(0,h.jsx)(_.g,{color:(0,u.o3)()})})},R={chaptersLayout:T,homeLayout:M},D=function(e){var t=e.children,n=e.frontMatter,r=function(e){var t=e.layout,n=e.path;return t in Object.keys(R)?R[t]:n.startsWith("/chapters")?T:M}(n);return(0,h.jsxs)(i.xu,{pt:"30px",p:"40px 10px",m:"0 auto",maxW:"900px",minH:"100vh",children:[(0,h.jsx)(r,{frontMatter:n,children:t}),(0,h.jsx)(L,{})]})}},2664:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ae},frontMatter:function(){return re}});var r=n(159),i=n(219),o=n(7294),a=n(3905),s=n(8338),c=n(318),l=n(8216),u=n(5997),h=n(2809),f=n(6513),p="green",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"red",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"lightGray",o=new f.ZAu,a=new f.Pa4(-e/2,0,0),s=new f.Pa4(e/2,0,0),c=new f.nls({color:r}),l=(new f.u9r).setFromPoints([a,s]),u=new f.x12(l,c),h=new f.fHI(0,.25,1),p=new f.vBJ({color:r}),d=new f.Kj0(h,p);if(d.rotation.z=-f.M8C.degToRad(90),d.position.set(e/2,0,0),o.add(u,d),t>0)for(var m=1,v=new f.nls({color:i});m<=e/2;){if(n){var g=[new f.Pa4(m,0,-t/2),new f.Pa4(m,0,t/2)],y=[new f.Pa4(-m,0,-t/2),new f.Pa4(-m,0,t/2)],b=(new f.u9r).setFromPoints(g),w=(new f.u9r).setFromPoints(y),x=new f.x12(b,v),k=new f.x12(w,v);o.add(x,k)}var j=[new f.Pa4(m,-t/2,0),new f.Pa4(m,t/2,0)],O=[new f.Pa4(-m,-t/2,0),new f.Pa4(-m,t/2,0)],P=(new f.u9r).setFromPoints(j),Z=(new f.u9r).setFromPoints(O),E=new f.x12(P,v),T=new f.x12(Z,v);o.add(E,T),m++}return o},m=function(){function e(){(0,l.Z)(this,e),(0,h.Z)(this,"xLength",10),(0,h.Z)(this,"yLength",10),(0,h.Z)(this,"zLength",10),(0,h.Z)(this,"markLen",10)}return(0,u.Z)(e,[{key:"length",set:function(e){this.xLength=e,this.yLength=e,this.zLength=e}},{key:"createPlaneX",value:function(){var e=d(this.xLength,this.markLen,!1,"red"),t=new f.ZAu;return t.add(e),t}},{key:"createPlaneXY",value:function(){var e=this.createPlaneX(),t=d(this.yLength,this.markLen,!1,p);return t.rotation.set(0,0,f.M8C.degToRad(90)),e.add(t),e}},{key:"createPlaneXYZ",value:function(){var e=d(this.xLength,this.markLen,!0,"red"),t=new f.ZAu;t.add(e);var n=d(this.yLength,this.markLen,!0,p);n.rotation.set(0,f.M8C.degToRad(90),f.M8C.degToRad(90)),n.rotation.reorder("YXZ"),t.add(n);var r=d(this.zLength,this.markLen,!0,"blue");return r.rotation.set(0,-f.M8C.degToRad(90),0),t.add(r),t}}]),e}(),v=n(6586);var g=n(6988);function y(e){return function(e){if(Array.isArray(e))return(0,v.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,g.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e,t,n){t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix(),n.setSize(e.clientWidth,e.clientHeight),n.setPixelRatio(window.devicePixelRatio)},w=function(){function e(t,n,r){var i=this;(0,l.Z)(this,e),b(t,n,r),window.addEventListener("resize",(function(){b(t,n,r),i.onResize()}))}return(0,u.Z)(e,[{key:"onResize",value:function(){}}]),e}();function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(){function e(t,n,r){(0,l.Z)(this,e),(0,h.Z)(this,"clock",new f.SUY),(0,h.Z)(this,"camera",void 0),(0,h.Z)(this,"scene",void 0),(0,h.Z)(this,"renderer",void 0),(0,h.Z)(this,"updatables",void 0),this.camera=t,this.scene=n,this.renderer=r,this.updatables=[]}return(0,u.Z)(e,[{key:"start",value:function(){var e=this;this.renderer.setAnimationLoop((function(){e.tick(),e.renderer.render(e.scene,e.camera)}))}},{key:"stop",value:function(){this.renderer.setAnimationLoop(null)}},{key:"tick",value:function(){var e,t=this.clock.getDelta(),n=x(this.updatables);try{for(n.s();!(e=n.n()).done;){e.value.tick(t)}}catch(r){n.e(r)}finally{n.f()}}}]),e}(),O=n(4695),P=n(3444),Z=n(268),E=n(2953);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,Z.Z)(this,n)}}var A={type:"change"},M={type:"start"},C={type:"end"},_=function(e){(0,P.Z)(n,e);var t=T(n);function n(e,r){var i;(0,l.Z)(this,n),i=t.call(this),void 0===r&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),r===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.object=e,i.domElement=r,i.domElement.style.touchAction="none",i.enabled=!0,i.target=new f.Pa4,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.enableDamping=!1,i.dampingFactor=.05,i.enableZoom=!0,i.zoomSpeed=1,i.enableRotate=!0,i.rotateSpeed=1,i.enablePan=!0,i.panSpeed=1,i.screenSpacePanning=!0,i.keyPanSpeed=7,i.autoRotate=!1,i.autoRotateSpeed=2,i.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},i.mouseButtons={LEFT:f.RsA.ROTATE,MIDDLE:f.RsA.DOLLY,RIGHT:f.RsA.PAN},i.touches={ONE:f.QmN.ROTATE,TWO:f.QmN.DOLLY_PAN},i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i._domElementKeyEvents=null,i.getPolarAngle=function(){return u.phi},i.getAzimuthalAngle=function(){return u.theta},i.getDistance=function(){return this.object.position.distanceTo(this.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",J),this._domElementKeyEvents=e},i.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},i.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(A),o.update(),s=a.NONE},i.update=function(){var t=new f.Pa4,n=(new f._fP).setFromUnitVectors(e.up,new f.Pa4(0,1,0)),r=n.clone().invert(),i=new f.Pa4,l=new f._fP,v=2*Math.PI;return function(){var e=o.object.position;t.copy(e).sub(o.target),t.applyQuaternion(n),u.setFromVector3(t),o.autoRotate&&s===a.NONE&&_(2*Math.PI/60/60*o.autoRotateSpeed),o.enableDamping?(u.theta+=h.theta*o.dampingFactor,u.phi+=h.phi*o.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);var f=o.minAzimuthAngle,g=o.maxAzimuthAngle;return isFinite(f)&&isFinite(g)&&(f<-Math.PI?f+=v:f>Math.PI&&(f-=v),g<-Math.PI?g+=v:g>Math.PI&&(g-=v),u.theta=f<=g?Math.max(f,Math.min(g,u.theta)):u.theta>(f+g)/2?Math.max(f,u.theta):Math.min(g,u.theta)),u.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(o.minDistance,Math.min(o.maxDistance,u.radius)),!0===o.enableDamping?o.target.addScaledVector(d,o.dampingFactor):o.target.add(d),t.setFromSpherical(u),t.applyQuaternion(r),e.copy(o.target).add(t),o.object.lookAt(o.target),!0===o.enableDamping?(h.theta*=1-o.dampingFactor,h.phi*=1-o.dampingFactor,d.multiplyScalar(1-o.dampingFactor)):(h.set(0,0,0),d.set(0,0,0)),p=1,!!(m||i.distanceToSquared(o.object.position)>c||8*(1-l.dot(o.object.quaternion))>c)&&(o.dispatchEvent(A),i.copy(o.object.position),l.copy(o.object.quaternion),m=!1,!0)}}(),i.dispose=function(){o.domElement.removeEventListener("contextmenu",$),o.domElement.removeEventListener("pointerdown",G),o.domElement.removeEventListener("pointercancel",V),o.domElement.removeEventListener("wheel",q),o.domElement.removeEventListener("pointermove",K),o.domElement.removeEventListener("pointerup",Q),null!==o._domElementKeyEvents&&o._domElementKeyEvents.removeEventListener("keydown",J)};var o=(0,O.Z)(i),a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=a.NONE,c=1e-6,u=new f.$V,h=new f.$V,p=1,d=new f.Pa4,m=!1,v=new f.FM8,g=new f.FM8,y=new f.FM8,b=new f.FM8,w=new f.FM8,x=new f.FM8,k=new f.FM8,j=new f.FM8,P=new f.FM8,Z=[],E={};function T(){return Math.pow(.95,o.zoomSpeed)}function _(e){h.theta-=e}function L(e){h.phi-=e}var R=function(){var e=new f.Pa4;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),D=function(){var e=new f.Pa4;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),S=function(){var e=new f.Pa4;return function(t,n){var r=o.domElement;if(o.object.isPerspectiveCamera){var i=o.object.position;e.copy(i).sub(o.target);var a=e.length();a*=Math.tan(o.object.fov/2*Math.PI/180),R(2*t*a/r.clientHeight,o.object.matrix),D(2*n*a/r.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(R(t*(o.object.right-o.object.left)/o.object.zoom/r.clientWidth,o.object.matrix),D(n*(o.object.top-o.object.bottom)/o.object.zoom/r.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function N(e){o.object.isPerspectiveCamera?p/=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function I(e){o.object.isPerspectiveCamera?p*=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function Y(e){v.set(e.clientX,e.clientY)}function z(e){b.set(e.clientX,e.clientY)}function X(){if(1===Z.length)v.set(Z[0].pageX,Z[0].pageY);else{var e=.5*(Z[0].pageX+Z[1].pageX),t=.5*(Z[0].pageY+Z[1].pageY);v.set(e,t)}}function F(){if(1===Z.length)b.set(Z[0].pageX,Z[0].pageY);else{var e=.5*(Z[0].pageX+Z[1].pageX),t=.5*(Z[0].pageY+Z[1].pageY);b.set(e,t)}}function H(){var e=Z[0].pageX-Z[1].pageX,t=Z[0].pageY-Z[1].pageY,n=Math.sqrt(e*e+t*t);k.set(0,n)}function W(e){if(1==Z.length)g.set(e.pageX,e.pageY);else{var t=ne(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);g.set(n,r)}y.subVectors(g,v).multiplyScalar(o.rotateSpeed);var i=o.domElement;_(2*Math.PI*y.x/i.clientHeight),L(2*Math.PI*y.y/i.clientHeight),v.copy(g)}function B(e){if(1===Z.length)w.set(e.pageX,e.pageY);else{var t=ne(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}x.subVectors(w,b).multiplyScalar(o.panSpeed),S(x.x,x.y),b.copy(w)}function U(e){var t=ne(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);j.set(0,i),P.set(0,Math.pow(j.y/k.y,o.zoomSpeed)),N(P.y),k.copy(j)}function G(e){!1!==o.enabled&&(0===Z.length&&(o.domElement.setPointerCapture(e.pointerId),o.domElement.addEventListener("pointermove",K),o.domElement.addEventListener("pointerup",Q)),function(e){Z.push(e)}(e),"touch"===e.pointerType?function(e){switch(te(e),Z.length){case 1:switch(o.touches.ONE){case f.QmN.ROTATE:if(!1===o.enableRotate)return;X(),s=a.TOUCH_ROTATE;break;case f.QmN.PAN:if(!1===o.enablePan)return;F(),s=a.TOUCH_PAN;break;default:s=a.NONE}break;case 2:switch(o.touches.TWO){case f.QmN.DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;o.enableZoom&&H(),o.enablePan&&F(),s=a.TOUCH_DOLLY_PAN;break;case f.QmN.DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;o.enableZoom&&H(),o.enableRotate&&X(),s=a.TOUCH_DOLLY_ROTATE;break;default:s=a.NONE}break;default:s=a.NONE}s!==a.NONE&&o.dispatchEvent(M)}(e):function(e){var t;switch(e.button){case 0:t=o.mouseButtons.LEFT;break;case 1:t=o.mouseButtons.MIDDLE;break;case 2:t=o.mouseButtons.RIGHT;break;default:t=-1}switch(t){case f.RsA.DOLLY:if(!1===o.enableZoom)return;!function(e){k.set(e.clientX,e.clientY)}(e),s=a.DOLLY;break;case f.RsA.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enablePan)return;z(e),s=a.PAN}else{if(!1===o.enableRotate)return;Y(e),s=a.ROTATE}break;case f.RsA.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enableRotate)return;Y(e),s=a.ROTATE}else{if(!1===o.enablePan)return;z(e),s=a.PAN}break;default:s=a.NONE}s!==a.NONE&&o.dispatchEvent(M)}(e))}function K(e){!1!==o.enabled&&("touch"===e.pointerType?function(e){switch(te(e),s){case a.TOUCH_ROTATE:if(!1===o.enableRotate)return;W(e),o.update();break;case a.TOUCH_PAN:if(!1===o.enablePan)return;B(e),o.update();break;case a.TOUCH_DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&U(e),o.enablePan&&B(e)}(e),o.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&U(e),o.enableRotate&&W(e)}(e),o.update();break;default:s=a.NONE}}(e):function(e){if(!1===o.enabled)return;switch(s){case a.ROTATE:if(!1===o.enableRotate)return;!function(e){g.set(e.clientX,e.clientY),y.subVectors(g,v).multiplyScalar(o.rotateSpeed);var t=o.domElement;_(2*Math.PI*y.x/t.clientHeight),L(2*Math.PI*y.y/t.clientHeight),v.copy(g),o.update()}(e);break;case a.DOLLY:if(!1===o.enableZoom)return;!function(e){j.set(e.clientX,e.clientY),P.subVectors(j,k),P.y>0?N(T()):P.y<0&&I(T()),k.copy(j),o.update()}(e);break;case a.PAN:if(!1===o.enablePan)return;!function(e){w.set(e.clientX,e.clientY),x.subVectors(w,b).multiplyScalar(o.panSpeed),S(x.x,x.y),b.copy(w),o.update()}(e)}}(e))}function Q(e){!1!==o.enabled&&(e.pointerType,o.dispatchEvent(C),s=a.NONE,ee(e),0===Z.length&&(o.domElement.releasePointerCapture(e.pointerId),o.domElement.removeEventListener("pointermove",K),o.domElement.removeEventListener("pointerup",Q)))}function V(e){ee(e)}function q(e){!1!==o.enabled&&!1!==o.enableZoom&&s===a.NONE&&(e.preventDefault(),o.dispatchEvent(M),function(e){e.deltaY<0?I(T()):e.deltaY>0&&N(T()),o.update()}(e),o.dispatchEvent(C))}function J(e){!1!==o.enabled&&!1!==o.enablePan&&function(e){var t=!1;switch(e.code){case o.keys.UP:S(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:S(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:S(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:S(-o.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),o.update())}(e)}function $(e){!1!==o.enabled&&e.preventDefault()}function ee(e){delete E[e.pointerId];for(var t=0;t<Z.length;t++)if(Z[t].pointerId==e.pointerId)return void Z.splice(t,1)}function te(e){var t=E[e.pointerId];void 0===t&&(t=new f.FM8,E[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ne(e){var t=e.pointerId===Z[0].pointerId?Z[1]:Z[0];return E[t.pointerId]}return o.domElement.addEventListener("contextmenu",$),o.domElement.addEventListener("pointerdown",G),o.domElement.addEventListener("pointercancel",V),o.domElement.addEventListener("wheel",q,{passive:!1}),i.update(),i}return n}(f.pBf);var L=function(){function e(){(0,l.Z)(this,e),(0,h.Z)(this,"_bgColor","skyblue"),(0,h.Z)(this,"_camera",function(){var e=new f.cPb(35,1,.1,1e3);return e.position.set(0,0,120),e}()),(0,h.Z)(this,"_renderer",function(){var e=new f.CP7({antialias:!0});return e.physicallyCorrectLights=!0,e}()),(0,h.Z)(this,"autoRotate",!1)}return(0,u.Z)(e,[{key:"bgColor",set:function(e){this._bgColor=e}},{key:"camera",get:function(){return this._camera},set:function(e){this._camera=e}},{key:"render",value:function(e,t){var n=function(e){var t=new f.xsS;return t.background=new f.Ilk(e),t}(this._bgColor);e.append(this._renderer.domElement);var r=function(e,t){var n=new _(e,t);return n.tick=function(){n.update()},n}(this._camera,this._renderer.domElement);r.enableDamping=!0,r.autoRotate=this.autoRotate,n.add.apply(n,y(t));var i=new j(this._camera,n,this._renderer);i.updatables.push(r),new w(e,this._camera,this._renderer),i.start()}}]),e}(),R=n(8017),D=n(5893),S=["children"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=e.children,n=(0,i.Z)(e,S);return(0,D.jsx)(R.xu,I(I({h:"500px",mt:"20px",mb:"20px",borderRadius:"5px",overflow:"hidden"},n),{},{children:t}))},z=function(){var e=o.useState(),t=(0,c.Z)(e,2),n=t[0],r=t[1],i=o.useState(),a=(0,c.Z)(i,2),s=a[0],l=a[1],u=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=(new m).createPlaneXYZ();r(e);var t=new L;t.bgColor="black",t.camera.position.z=20,t.camera.position.y=10,t.autoRotate=!0,l(t)}),[]),(0,o.useEffect)((function(){var e=u.current;e&&n&&s&&s.render(e,[n])}),[u,s,n]),(0,D.jsx)(Y,{children:(0,D.jsx)(R.xu,{ref:u,h:"100%",w:"100%"})})},X=n(9005),F=n(8148),H=n(7023),W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new G,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new G;(0,l.Z)(this,e),(0,h.Z)(this,"leftTop",void 0),(0,h.Z)(this,"rightDown",void 0),this.leftTop=t,this.rightDown=n}return(0,u.Z)(e,[{key:"rightTop",get:function(){return new G(this.rightDown.x,this.leftTop.y)}},{key:"leftDown",get:function(){return new G(this.leftTop.x,this.rightDown.y)}},{key:"center",get:function(){return new G((this.leftTop.x+this.rightDown.x)/2,(this.leftTop.y+this.rightDown.y)/2)}},{key:"width",get:function(){return this.rightDown.x-this.leftTop.x}},{key:"height",get:function(){return this.rightDown.y-this.leftTop.y}}],[{key:"union",value:function(t){var n=0,r=0,i=0,o=0;t.length>0&&(n=t[0].leftTop.x,r=t[0].leftTop.y,i=t[0].rightDown.x,o=t[0].rightDown.y);for(var a=0;a<t.length;a++)n=Math.min(n,t[a].leftTop.x),r=Math.min(r,t[a].leftTop.y),i=Math.max(i,t[a].rightDown.x),o=Math.max(o,t[a].rightDown.y);return new e(new G(n,r),new G(i,o))}}]),e}(),B=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},U=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<1)throw new Error("getBoundOfPoints(): the length of points less then 1");for(var r=t[0].x,i=t[0].y,o=t[0].x,a=t[0].y,s=1;s<t.length;s++)r=Math.min(r,t[s].x),i=Math.min(i,t[s].y),o=Math.max(o,t[s].x),a=Math.max(a,t[s].y);return new W(new G(r,i),new G(o,a))},G=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,l.Z)(this,e),(0,h.Z)(this,"x",void 0),(0,h.Z)(this,"y",void 0),this.x=t,this.y=n}return(0,u.Z)(e,null,[{key:"equal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return B(e,t)<=n}}]),e}();function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,Z.Z)(this,n)}}var Q=function(){function e(){(0,l.Z)(this,e),(0,h.Z)(this,"color","white"),(0,h.Z)(this,"boundColor","gray"),(0,h.Z)(this,"bounded",!1)}return(0,u.Z)(e,[{key:"draw",value:function(e,t){this.drawContent(e,t),this.bounded&&this.drawBound(e,t)}},{key:"drawBound",value:function(e,t){var n=this.getBound();e.beginPath(),e.strokeStyle=this.boundColor,e.moveTo(n.leftTop.x,n.leftTop.y),e.lineTo(n.rightTop.x,n.rightTop.y),e.lineTo(n.rightDown.x,n.rightDown.y),e.lineTo(n.leftDown.x,n.leftDown.y),e.closePath(),e.lineWidth/=t.scaleX,e.stroke(),e.lineWidth*=t.scaleX}}]),e}(),V=function(e){(0,P.Z)(n,e);var t=K(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new G,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new G;return(0,l.Z)(this,n),e=t.call(this),(0,h.Z)((0,O.Z)(e),"start",void 0),(0,h.Z)((0,O.Z)(e),"end",void 0),(0,h.Z)((0,O.Z)(e),"lineWidth",2),e.start=r,e.end=i,e}return(0,u.Z)(n,[{key:"drawContent",value:function(e,t){e.beginPath(),e.strokeStyle=this.color,e.lineWidth=this.lineWidth;var n=this.start,r=this.end;e.moveTo(n.x,n.y),e.lineTo(r.x,r.y);var i=e.lineWidth;e.lineWidth/=t.scaleX,e.stroke(),e.lineWidth=i}},{key:"getBound",value:function(){return U(this.start,this.end)}}]),n}(Q),q=function(e){(0,P.Z)(n,e);var t=K(n);function n(){var e;(0,l.Z)(this,n),e=t.call(this),(0,h.Z)((0,O.Z)(e),"vertex",[]),(0,h.Z)((0,O.Z)(e),"closed",!1),(0,h.Z)((0,O.Z)(e),"stroked",!0),(0,h.Z)((0,O.Z)(e),"filled",!1),(0,h.Z)((0,O.Z)(e),"fillColor","white"),(0,h.Z)((0,O.Z)(e),"lineWidth",2);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.vertex=i,e}return(0,u.Z)(n,[{key:"strokeColor",get:function(){return this.color}},{key:"circled",get:function(){return!(this.vertex.length<=2)&&(!!G.equal(this.vertex[this.vertex.length-1],this.vertex[0])||!!this.closed)}},{key:"drawContent",value:function(e,t){if(!(this.vertex.length<=1)){e.beginPath(),e.strokeStyle=this.strokeColor,e.fillStyle=this.fillColor,e.lineWidth=this.lineWidth,e.moveTo(this.vertex[0].x,this.vertex[0].y);for(var n=1;n<this.vertex.length;n++)e.lineTo(this.vertex[n].x,this.vertex[n].y);if(this.closed&&e.closePath(),this.stroked){var r=e.lineWidth;e.lineWidth/=t.scaleX,e.stroke(),e.lineWidth=r}this.filled&&this.circled&&e.fill()}}},{key:"getBound",value:function(){return U.apply(void 0,y(this.vertex))}}]),n}(Q),J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,l.Z)(this,e),(0,h.Z)(this,"xAxisColor","red"),(0,h.Z)(this,"yAxisColor","green"),(0,h.Z)(this,"lineColor","gray"),(0,h.Z)(this,"unitSize",1),(0,h.Z)(this,"xlp",void 0),(0,h.Z)(this,"xln",void 0),(0,h.Z)(this,"ylp",void 0),(0,h.Z)(this,"yln",void 0),this.xlp=t,this.xln=t,this.ylp=n,this.yln=n}return(0,u.Z)(e,[{key:"getEntities",value:function(){var e=[],t=-this.xln-1,n=this.xlp+1,r=-this.yln-1,i=this.ylp+1,o=new G(t,0),a=new G(n,0),s=new V(o,a);s.color=this.xAxisColor,e.push(s);var c=new G(n,0),l=new G(n-.5,-.15),u=new G(n-.5,.15),h=new q(c,l,u);h.fillColor=this.xAxisColor,h.closed=!0,h.stroked=!1,h.filled=!0,e.push(h);for(var f=this.unitSize;f<=this.ylp;f+=this.unitSize){var p=new G(t,f),d=new G(n,f),m=new V(p,d);m.color=this.lineColor,e.push(m)}for(var v=-this.unitSize;v>=-this.yln;v-=this.unitSize){var g=new G(t,v),y=new G(n,v),b=new V(g,y);b.color=this.lineColor,e.push(b)}var w=new G(0,r),x=new G(0,i),k=new V(w,x);k.color=this.yAxisColor,e.push(k);var j=new G(0,i),O=new G(-.15,i-.5),P=new G(.15,i-.5),Z=new q(j,O,P);Z.fillColor=this.yAxisColor,Z.closed=!0,Z.stroked=!1,Z.filled=!0,e.push(Z);for(var E=this.unitSize;E<=this.xlp;E+=this.unitSize){var T=new G(E,r),A=new G(E,i),M=new V(T,A);M.color=this.lineColor,e.push(M)}for(var C=-this.unitSize;C>=-this.yln;C-=this.unitSize){var _=new G(C,r),L=new G(C,i),R=new V(_,L);R.color=this.lineColor,e.push(R)}return e}}]),e}(),$=function(){function e(){(0,l.Z)(this,e),(0,h.Z)(this,"scaleX",1),(0,h.Z)(this,"scaleY",1),(0,h.Z)(this,"worldOri",new G(0,0))}return(0,u.Z)(e,[{key:"set",value:function(e,t,n){this.worldOri=e,this.scaleX=t,this.scaleY=n}},{key:"zoom",value:function(e,t,n){var r=this.dcsToWcs(e),i=1-t/1e3,o=1-n/1e3,a=this.scaleX*i,s=this.scaleY*o,c=r.x*a,l=r.y*s,u=new G(e.x-c,e.y-l);this.set(u,a,s)}},{key:"displace",value:function(e,t){this.worldOri.x+=e,this.worldOri.y+=t}},{key:"reset",value:function(){this.scaleX=1,this.scaleY=1,this.worldOri=new G(0,0)}},{key:"dcsToWcs",value:function(e){var t=1*(e.x-this.worldOri.x)/this.scaleX,n=1*(e.y-this.worldOri.y)/this.scaleY;return new G(t,n)}},{key:"setCtx",value:function(e){e.translate(this.worldOri.x,this.worldOri.y),e.scale(this.scaleX,this.scaleY)}},{key:"viewAllInContainer",value:function(e,t){var n=e.width/t.width,r=e.height/t.height,i=Math.min(n,r),o=new G(e.leftTop.x+e.width/2-t.center.x*i,e.leftTop.y+e.height/2-t.center.y*i);this.set(o,i,i)}}]),e}(),ee=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,l.Z)(this,e),(0,h.Z)(this,"_canvas",void 0),(0,h.Z)(this,"yAxisUp",!0),(0,h.Z)(this,"bgColor","black"),(0,h.Z)(this,"entities",[]),(0,h.Z)(this,"_ctx",null),(0,h.Z)(this,"ctf",new $),(0,h.Z)(this,"viewAllMargin",5),this._canvas=t;var r=function(){t.width=t.clientWidth,t.height=t.clientHeight};r(),t.addEventListener("resize",r),n&&this.initControl()}return(0,u.Z)(e,[{key:"canvas",get:function(){return this._canvas}},{key:"addEntity",value:function(e){this.entities.push(e)}},{key:"update",value:function(){var e=this;this._canvas&&(this._ctx||(this._ctx=this._canvas.getContext("2d")),this._ctx.clearRect(0,0,this._canvas.clientWidth,this._canvas.clientHeight),this._ctx.fillStyle=this.bgColor,this._ctx.fillRect(0,0,this._canvas.clientWidth,this._canvas.clientHeight),this.ctf.setCtx(this._ctx),this.yAxisUp&&this._ctx.scale(1,-1),this.entities.forEach((function(t){t.draw(e._ctx,e.ctf)})),this._ctx.resetTransform())}},{key:"initControl",value:function(){var e=this,t=!1,n=0,r=2;this._canvas.oncontextmenu=function(){return!1},this._canvas.addEventListener("mousedown",(function(e){e.button===n&&(t=!0)})),this._canvas.addEventListener("mouseup",(function(e){e.button===n?t=!1:e.button===r&&e.preventDefault()})),this._canvas.addEventListener("mousemove",(function(n){t&&(e.ctf.displace(n.movementX,n.movementY),e.update())})),this._canvas.addEventListener("wheel",(function(t){t.preventDefault(),e.ctf.zoom(new G(t.offsetX,t.offsetY),t.deltaY,t.deltaY),e.update()})),this._canvas.addEventListener("dblclick",(function(t){0===t.button&&e.viewAll()}))}},{key:"bound",value:function(){for(var e=[],t=0;t<this.entities.length;t++)e.push(this.entities[t].getBound());return W.union(e)}},{key:"viewAll",value:function(){var e=new W(new G(this.viewAllMargin,this.viewAllMargin),new G(this.canvas.width-this.viewAllMargin,this.canvas.height-this.viewAllMargin));this.ctf.viewAllInContainer(e,this.bound()),this.update()}}]),e}(),te=function(){var e=o.useState([]),t=(0,c.Z)(e,2),n=t[0],r=t[1],i=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=(new J).getEntities();r(e)}),[]),(0,o.useEffect)((function(){var e=i.current;if(e){var t=new ee(e);n.forEach((function(e){return t.addEntity(e)})),t.viewAll()}}),[i,n]),(0,D.jsx)(Y,{children:(0,D.jsx)("canvas",{ref:i,style:{height:"100%",width:"100%"}})})},ne=["components"],re={title:"\u4f60\u597d\uff0c\u7ebf\u6027\u4ee3\u6570\ud83d\udd90",description:"\u8fd9\u662f\u4e00\u672c\u5173\u4e8e\u5165\u95e8\u8ba1\u7b97\u673a\u56fe\u5f62\u5b66\u7684\u7ebf\u6027\u4ee3\u6570\u57fa\u7840\u6559\u7a0b\u3002\u4e3b\u8981\u4ecb\u7ecd\u5411\u91cf\u3001\u884c\u5217\u5f0f\u548c\u77e9\u9635\u7684\u51e0\u4f55\u610f\u4e49\uff0c\u4f8b\u5982\u5411\u91cf\u7684\u70b9\u79ef\u548c\u53c9\u79ef\uff0c\u77e9\u9635\u7684\u53d8\u6362\uff0c\u884c\u5217\u5f0f\u7684\u610f\u4e49\u3002\u5982\u679c\u4f60\u5bf9\u56fe\u5f62\u5b66\u611f\u5174\u8da3\uff0c\u5374\u7f3a\u4e4f\u4e00\u4e9b\u6570\u5b66\u77e5\u8bc6\uff0c\u53c8\u6ca1\u6709\u65f6\u95f4\u53bb\u5b66\u4e60\u5176\u4ed6\u590d\u6742\u7684\u7ebf\u6027\u4ee3\u6570\u4e2d\u7e41\u6742\u7684\u8ba1\u7b97\uff0c\u90a3\u4e48\u4f60\u6765\u5bf9\u5730\u65b9\u4e86\uff0c\u8fd9\u672c\u4e66\u5e94\u8be5\u975e\u5e38\u9002\u5408\u4f60\u3002",__resourcePath:"index.md",__scans:{},keywords:[],path:"/",readingTime:{text:"5 min read",minutes:4.135,time:248100,words:827},allPosts:[{path:"001-vector",title:"\u5411\u91cf",hide:!1},{path:"002-coordinate-system",title:"\u5750\u6807\u7cfb",hide:!1}],layout:"index"},ie={frontMatter:re},oe=s.Z;function ae(e){var t=e.components,n=(0,i.Z)(e,ne);return(0,a.kt)(oe,(0,r.Z)({},ie,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"\u4ecb\u7ecd"},"\u4ecb\u7ecd"),(0,a.kt)("p",null,"\u7ebf\u6027\u4ee3\u6570\u4f5c\u4e3a\u6570\u5b66\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u5728\u5f88\u591a\u9886\u57df\u90fd\u53d1\u6325\u7740\u91cd\u8981\u4f5c\u7528\uff0c\u4f8b\u5982\u4ee5\u4e0b\u51e0\u4e2a\u9886\u57df\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8ba1\u7b97\u673a\u79d1\u5b66\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u56fe\u5f62\u5b66\uff09"),(0,a.kt)("li",{parentName:"ul"},"\u7269\u7406\u5de5\u7a0b"),(0,a.kt)("li",{parentName:"ul"},"\u673a\u68b0\u5de5\u7a0b"),(0,a.kt)("li",{parentName:"ul"},"\u7535\u5b50\u5de5\u7a0b"),(0,a.kt)("li",{parentName:"ul"},"\u7edf\u8ba1\u5b66")),(0,a.kt)("p",null,"\u6240\u4ee5\u4ece\u4e8b\u8fd9\u4e9b\u4e13\u4e1a\u7684\u670b\u53cb\uff0c\u5fc5\u987b\u8981\u638c\u63e1\u597d\u7ebf\u6027\u4ee3\u6570\u3002\u8fd9\u4e2a\u6559\u7a0b\u7684\u76ee\u7684\u662f\u4ecb\u7ecd\u7ebf\u6027\u4ee3\u6570\u4e2d\u7684\u51e0\u4f55\u610f\u4e49\u3002"),(0,a.kt)("p",null,"\u5f88\u591a\u5b66\u4e60\u7ebf\u6027\u4ee3\u6570\u7684\u670b\u53cb\uff0c\u5bf9\u7ebf\u6027\u4ee3\u6570\u7684\u7406\u89e3\u5341\u5206\u6d45\u663e\uff0c\u53ea\u4f1a\u5957\u7528\u516c\u5f0f\u8fdb\u884c\u5411\u91cf\u3001\u884c\u5217\u5f0f\u3001\u77e9\u9635\u7684\u8ba1\u7b97\u548c\u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4\uff0c\u4f46\u662f\u4e0d\u80fd\u7406\u89e3\u5176\u4e2d\u5305\u542b\u7684\u66f4\u6df1\u5c42\u6b21\u7684\u610f\u4e49\uff0c\u800c\u8fd9\u4e2a\u6559\u7a0b\u5411\u5927\u5bb6\u4ecb\u7ecd\u7684\u5c31\u662f\u7ebf\u6027\u4ee3\u6570\u5728",(0,a.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/279486"},"\u8ba1\u7b97\u673a\u56fe\u5f62\u5b66"),"\u4e2d\u7684\u51e0\u4f55\u610f\u4e49\uff0c\u5b83\u4e0d\u4f1a\u5411\u5927\u5bb6\u4ecb\u7ecd\u5927\u5b66\u8bfe\u672c\u4e2d\u5173\u4e8e\u7ebf\u6027\u4ee3\u6570\u90a3\u4e9b\u590d\u6742\u7684\u8ba1\u7b97\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u8ba1\u7b97\u90fd\u53ef\u4ee5\u901a\u8fc7\u5de5\u5177\u8fdb\u884c\u8ba1\u7b97\uff0c\u6211\u8ba4\u4e3a\u6700\u91cd\u8981\u7684\u662f\u7406\u89e3\u5b83\u6240\u4ee3\u8868\u7684\u610f\u4e49\u3002\u4f8b\u5982\u6211\u5728\u7f16\u7a0b\u65f6\uff0c\u8ba1\u7b97\u5411\u91cf\u548c\u77e9\u9635\u4f1a\u5229\u7528",(0,a.kt)("a",{parentName:"p",href:"https://github.com/g-truc/glm"},"glm"),"\u548c",(0,a.kt)("a",{parentName:"p",href:"https://glmatrix.net/"},"glMatrix"),"\u8fd9\u4e24\u4e2a\u6570\u5b66\u5de5\u5177\u5e93\u5e2e\u6211\u5904\u7406\u90a3\u4e9b\u590d\u6742\u7684\u8ba1\u7b97\uff0c\u800c\u6211\u6240\u8981\u505a\u7684\u5c31\u662f\u7406\u89e3\u5176\u4e2d\u7684\u51e0\u4f55\u610f\u4e49\uff0c\u9009\u62e9\u5408\u9002\u7684",(0,a.kt)("a",{parentName:"p",href:"https://www.makeuseof.com/what-is-a-function-programming/"},"\u51fd\u6570"),"\u53bb\u5904\u7406\u56fe\u5f62\u3002"),(0,a.kt)("p",null,"\u6570\u5b66\u662f\u4e00\u95e8\u5f88\u96be\u7684\u5b66\u79d1\uff0c\u5b66\u4e60\u6570\u5b66\u76f8\u5173\u7684\u77e5\u8bc6\u65f6\uff0c\u80fd\u4e13\u6ce8\u5b66\u4e60\uff0c\u5e76\u4e14\u80fd\u7406\u89e3\u5b83\u662f\u4e00\u4ef6\u6bd4\u8f83\u56f0\u96be\u7684\u4e8b\uff0c\u4e3a\u4e86\u63d0\u8d77\u5927\u5bb6\u7684\u5174\u8da3\uff0c\u8bfe\u7a0b\u4e2d\u67d0\u4e9b\u793a\u4f8b\u6211\u4f1a\u4f7f\u7528",(0,a.kt)("a",{parentName:"p",href:"https://threejs.org/"},"ThreeJS"),"\u548c",(0,a.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API"},"Canvas2d API"),"\u6784\u5efademo\u5c55\u793a\u7ed9\u5927\u5bb6\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u4e24\u4e2a\u5750\u6807\u7cfb\u6a21\u578b\uff0c\u5e0c\u671b\u8fd9\u6837\u53ef\u4ee5\u6fc0\u53d1\u5927\u5bb6\u7684\u5b66\u4e60\u5174\u8da3\u3002"),(0,a.kt)("p",null,"\u4e09\u7ef4\u6a21\u578b\u5750\u6807\u7cfb\uff0c\u4f7f\u7528ThreeJS\u7ed8\u5236\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u9f20\u6807\u64cd\u4f5c\u6a21\u578b\uff08\u89e6\u5c4f\u8bbe\u5907\u53ef\u4ee5\u901a\u8fc7\u624b\u6307\u64cd\u4f5c\uff09\uff0c\u5de6\u952e-\u65cb\u8f6c\uff0c\u53f3\u952e-\u5e73\u79fb\uff0c\u6eda\u8f6e-\u7f29\u653e\u3002"),(0,a.kt)(z,{mdxType:"CoordinateModel"}),(0,a.kt)("p",null,"\u4e8c\u7ef4\u5750\u6807\u7cfb\u6a21\u578b\uff0c\u4f7f\u7528Canvas2d API\u7ed8\u5236\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u9f20\u6807\u64cd\u4f5c\u6a21\u578b\uff08\u6682\u65f6\u4e0d\u652f\u6301\u89e6\u5c4f\u64cd\u4f5c\uff09\uff0c\u5de6\u952e\u6309\u4f4f\u62d6\u52a8-\u5e73\u79fb\uff0c\u6eda\u8f6e-\u7f29\u653e\uff0c\u5de6\u952e\u53cc\u51fb-\u7f29\u653e\u81f3\u5168\u90e8\u3002"),(0,a.kt)(te,{mdxType:"CoordinateModel2d"}),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"\u672c\u4e66\u4e2d\u6240\u6709\u5750\u6807\u7cfb\u4e2d\u7684\u7ea2\u8272\u4ee3\u8868X\u8f74\uff0c\u7eff\u8272\u4ee3\u8868Y\u8f74\uff0c\u84dd\u8272\u4ee3\u8868Z\u8f74\u3002")),(0,a.kt)("p",null,"\u672c\u6559\u7a0b\u6587\u6863\u53ca\u7f51\u7ad9\u4ee3\u7801\u5f00\u6e90\u3002\u6587\u6863\u91c7\u7528\u77e5\u8bc6\u5171\u4eab4.0\u8bb8\u53ef\u8bc1\u3002\u9664\u5546\u4e1a\u7528\u9014\u5916\uff0c\u4f60\u53ef\u4ee5\u81ea\u7531\u7684\u4f7f\u7528\u672c\u7ad9\u8d44\u6e90\uff0c\u4e0d\u9700\u8981\u989d\u5916\u652f\u4ed8\u4efb\u4f55\u8d39\u7528\u548c\u901a\u77e5\u6211\uff0c\u524d\u63d0\u662f\u5fc5\u987b\u4fdd\u6301\u7f72\u540d\uff08\u201c\u4f5c\u8005\uff1a\u738b\u9e4f\u98de \u539f\u6587\u5730\u5740\uff1a",(0,a.kt)("a",{parentName:"p",href:"https://pengfeiw.github.io/hellolinearalgebra"},"https://pengfeiw.github.io/hellolinearalgebra"),"\u201d\uff09\u548c\u91c7\u7528\u76f8\u540c\u65b9\u5f0f\u5171\u4eab\u3002"),(0,a.kt)("h2",{id:"\u4f7f\u7528\u65b9\u6cd5"},"\u4f7f\u7528\u65b9\u6cd5"),(0,a.kt)("p",null,"\u9879\u76ee\u5f00\u6e90\uff0c\u53ef\u4ee5\u70b9\u51fb\u53f3\u4e0a\u89d2github\u56fe\u6807\uff08",(0,a.kt)(X.d,{mdxType:"GithubLink"}),"\uff09\u67e5\u770b\u6e90\u4ee3\u7801\uff0c\u5982\u679c\u4f60\u652f\u6301\u672c\u9879\u76ee\uff0c\u6b22\u8fcefork\u3001star\u3002"),(0,a.kt)("p",null,"\u672c\u6559\u7a0b\u6682\u65f6\u5173\u95ed\u7559\u8a00\u677f\u529f\u80fd\uff0c\u5982\u679c\u4f60\u8981\u7559\u8a00\u53ef\u4ee5\u81f3\u6211\u7684\u4e2a\u4eba\u7f51\u7ad9\u7ed9\u6211\u7559\u8a00\u4e5f\u53ef\u4ee5\u81f3github\u63d0\u4ea4issue\u6216\u8005pr\u3002"),(0,a.kt)("p",null,"\u7f51\u7ad9\u53f3\u4e0a\u89d2\u6709\u989c\u8272\u5207\u6362\u6309\u94ae\uff08",(0,a.kt)(H.IJ,{mdxType:"AccentPicker"}),"\u548c",(0,a.kt)(F.d,{mdxType:"ColorModeSwitch"}),"\uff09\uff0c\u652f\u6301\u4e3b\u9898\u8272\u5207\u6362\u548c\u9ed1\u591c\u767d\u5929\u6a21\u5f0f\uff0c\u53ef\u4ee5\u81ea\u884c\u9009\u62e9\u9002\u5408\u81ea\u5df1\u7684\u9605\u8bfb\u6a21\u5f0f\u3002"),(0,a.kt)("h2",{id:"\u5173\u4e8e\u7f51\u7ad9"},"\u5173\u4e8e\u7f51\u7ad9"),(0,a.kt)("p",null,"\u5982\u679c\u4f60\u5bf9\u672c\u7f51\u7ad9\u642d\u5efa\u7684\u7ec6\u8282\u611f\u5174\u8da3\uff0c\u8bf7\u70b9\u51fb",(0,a.kt)("a",{parentName:"p",href:"https://www.pengfeixc.com/blogs/website/site-opensource"},"\u8fd9\u91cc"),"\u3002"),(0,a.kt)("h2",{id:"\u8054\u7cfb"},"\u8054\u7cfb"),(0,a.kt)("p",null,"Eamil: ",(0,a.kt)("a",{href:"mailto:pengfeixc@sian.com"},(0,a.kt)("a",{parentName:"p",href:"mailto:pengfeixc@sina.com"},"pengfeixc@sina.com"))))}ae.isMDXComponent=!0},6837:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2664)}])},4695:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},266:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},8216:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5997:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return i}})},1719:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2953);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}},2953:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},3444:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,{Z:function(){return i}})},268:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return o}});var i=n(4695);function o(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}}},function(e){e.O(0,[774,737,761,888,179],(function(){return t=6837,e(e.s=t);var t}));var t=e.O();_N_E=t}]);